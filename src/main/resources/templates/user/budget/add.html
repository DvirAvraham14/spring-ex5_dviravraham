<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Budget Tracker</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/css/budget.css}"/>

</head>
<body>
<div th:replace="~{navbar :: navbar}"></div>

<div class="container">
    <h1>Budget Tracker</h1>

    <!-- Add Budget Form -->
    <h2>Add Budget</h2>
    <form th:action="${'/budget/' + (!editMode ? 'add' : 'update')}" th:object="${budget}" method="post">
    <span th:if="${editMode}">
        <input type="hidden" name="id" th:field="*{id}"/>
    </span>
        <div class="form-group">
            <label for="month">Month:</label>
            <input type="month" id="month" th:field="*{month}" required/>
        </div>
        <span id="budgetContainer">
    <div class="form-group">
      <label for="category">Category:</label>
      <select id="category" th:field="*{category}">
        <option value="">Select a category</option>
        <option value="food">Food</option>
        <option value="transportation">Transportation</option>
        <option value="utilities">Utilities</option>
        <option value="entertainment">Entertainment</option>
      </select>
    </div>
    <div class="form-group">
      <label for="monthlyLimit">Monthly Limit:</label>
      <input type="number" id="monthlyLimit" th:field="*{monthlyLimit}" min="0" step="0.10" required/>
    </div>
      </span>
<!--        <button type="button" onclick="addBudgetOption()">add</button>-->
        <button type="submit">save</button>
    </form>
<!--    <script th:inline="javascript">-->
<!--        function addBudgetOption() {-->
<!--            const budgetOption = document.createElement('div');-->
<!--            budgetOption.classList.add('form-group');-->

<!--            const categoryLabel = document.createElement('label');-->
<!--            categoryLabel.setAttribute('for', 'category');-->
<!--            categoryLabel.textContent = 'Category:';-->
<!--            budgetOption.appendChild(categoryLabel);-->

<!--            const categorySelect = document.createElement('select');-->
<!--            categorySelect.setAttribute('id', 'category');-->
<!--            categorySelect.setAttribute('name', 'category');-->

<!--            const selectOption = document.createElement('option');-->
<!--            selectOption.setAttribute('value', '');-->
<!--            selectOption.textContent = 'Select a category';-->
<!--            categorySelect.appendChild(selectOption);-->

<!--            const foodOption = document.createElement('option');-->
<!--            foodOption.setAttribute('value', 'food');-->
<!--            foodOption.textContent = 'Food';-->
<!--            categorySelect.appendChild(foodOption);-->

<!--            const transportationOption = document.createElement('option');-->
<!--            transportationOption.setAttribute('value', 'transportation');-->
<!--            transportationOption.textContent = 'Transportation';-->
<!--            categorySelect.appendChild(transportationOption);-->

<!--            const utilitiesOption = document.createElement('option');-->
<!--            utilitiesOption.setAttribute('value', 'utilities');-->
<!--            utilitiesOption.textContent = 'Utilities';-->
<!--            categorySelect.appendChild(utilitiesOption);-->

<!--            const entertainmentOption = document.createElement('option');-->
<!--            entertainmentOption.setAttribute('value', 'entertainment');-->
<!--            entertainmentOption.textContent = 'Entertainment';-->
<!--            categorySelect.appendChild(entertainmentOption);-->

<!--            budgetOption.appendChild(categorySelect);-->

<!--            const monthlyLimitLabel = document.createElement('label');-->
<!--            monthlyLimitLabel.setAttribute('for', 'monthlyLimit');-->
<!--            monthlyLimitLabel.textContent = 'Monthly Limit:';-->
<!--            budgetOption.appendChild(monthlyLimitLabel);-->

<!--            const monthlyLimitInput = document.createElement('input');-->
<!--            monthlyLimitInput.setAttribute('type', 'number');-->
<!--            monthlyLimitInput.setAttribute('id', 'monthlyLimit');-->
<!--            monthlyLimitInput.setAttribute('name', 'monthlyLimit');-->
<!--            monthlyLimitInput.setAttribute('min', '0');-->
<!--            monthlyLimitInput.setAttribute('step', '0.10');-->
<!--            monthlyLimitInput.setAttribute('required', 'required');-->
<!--            budgetOption.appendChild(monthlyLimitInput);-->

<!--            const budgetContainer = document.getElementById('budgetContainer');-->
<!--            budgetContainer.appendChild(budgetOption);-->
<!--        }-->
<!--    </script>-->
</div>
</body>

</html>
